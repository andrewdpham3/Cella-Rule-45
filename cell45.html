<html>
<!–– HTML ––>
<div id="debug"></div>
<div class="graph">
  <ul class="squares">
    <!-- added via javascript -->
  </ul>
</div>
  
<!–– CSS ––>
<style>
/*variables that control the size of squares*/
:root {
  --square-size: 4px;
  --square-gap: 0.0px;
}

/*gets rid of the dots from uls*/
ul { list-style-type: none; }

/*creates the grid*/
.graph {
  display: inline-grid;
}
.squares {
  display: grid;
  grid-gap: var(--square-gap);
  grid-template-rows: repeat(400, var(--square-size));/*number of rows*/
  grid-auto-flow: column;/*columns auto generated*/
  grid-auto-columns: var(--square-size);
}

/*styling for the graph itself and the boarder*/
.graph {
  transform: rotate(90deg);
  padding: 5px;
  border: 1px #e1e4e8 solid;
}

/*blank square color*/
.squares li{
  background-color: #ebedf0;
}

/*black square color*/
.squares li[data-level="1"] {
  background-color: #000000;
}
</style>

<!–– Javascript ––>
<script>
//initialize first gen array
var firstgen = new Array(400).fill(0);
firstgen[200]=1;//seed

//create array of all cells
var cells = new Array(160000).fill(0);

//copy our seeded first gen into allcells
for(var i=0;i<400;i++)
  cells[i]=firstgen[i];

//apply elementary cell automata rule 45
for(var gen=0;gen<400;gen++)//for 400 generations
  for(var cell=0;cell<400;cell++){//for 400 cells
    var c = gen * 400 + cell;//index of current cell
    var nextgen = c + 400;//index of corresponding cell in next gen
    if(cell==0){//special case for left edge cells
      if(cells[c]==1 && cells[c+1]==1)//rule 5
        cells[nextgen]==1;
      if(cells[c]==1 && cells[c+1]==0)//rule 6
        cells[nextgen]==1;
      if(cells[c]==0 && cells[c+1]==1)//rule 7
        cells[nextgen]==0;
      if(cells[c]==0 && cells[c+1]==0)//rule 8
        cells[nextgen]==1;
    }
    else if(cell==400){//special case for right edge cells
      if(cells[c-1]==1 && cells[c]==1)//rule 2
        cells[nextgen]==0;
      if(cells[c-1]==1 && cells[c]==0)//rule 4
        cells[nextgen]==0;
      if(cells[c-1]==0 && cells[c]==1)//rule 6
        cells[nextgen]==1;
      if(cells[c-1]==0 && cells[c]==0)//rule 8
        cells[nextgen]==1;
    }
    else{//for all non-edge cells
      if(cells[c-1]==1 && cells[c]==1 && cells[c+1]==1)//rule 1
        cells[nextgen]=0;
      if(cells[c-1]==1 && cells[c]==1 && cells[c+1]==0)//rule 2
        cells[nextgen]=0;
      if(cells[c-1]==1 && cells[c]==0 && cells[c+1]==1)//rule 3
        cells[nextgen]=1;
      if(cells[c-1]==1 && cells[c]==0 && cells[c+1]==0)//rule 4
        cells[nextgen]=0;
      if(cells[c-1]==0 && cells[c]==1 && cells[c+1]==1)//rule 5
        cells[nextgen]=1;
      if(cells[c-1]==0 && cells[c]==1 && cells[c+1]==0)//rule 6
        cells[nextgen]=1;
      if(cells[c-1]==0 && cells[c]==0 && cells[c+1]==1)//rule 7
        cells[nextgen]=0;
      if(cells[c-1]==0 && cells[c]==0 && cells[c+1]==0)//rule 8
        cells[nextgen]=1;
    }
  }

//debug line: use this to check individual cell values
//document.getElementById("debug").innerHTML = cells[1800].toString();

//add squares
const squares = document.querySelector('.squares');
for(var i = 0; i < 160000; i++) {
  const level = cells[i];
  squares.insertAdjacentHTML('beforeend', `<li data-level="${level}"></li>`);
}
</script>
</html>